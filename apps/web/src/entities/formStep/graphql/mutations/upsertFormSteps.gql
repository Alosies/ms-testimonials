#import "../fragments/FormStepBasic.gql"

# Upsert form steps - inserts new steps and updates existing ones
# Used for saving form editor state including new improvement flow steps
mutation UpsertFormSteps($inputs: [form_steps_insert_input!]!) {
  insert_form_steps(
    objects: $inputs
    on_conflict: {
      constraint: form_steps_pkey
      update_columns: [step_order, content, tips, flow_membership, is_active, updated_by]
    }
  ) {
    returning {
      ...FormStepBasic
    }
  }
}
