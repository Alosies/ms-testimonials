# Progress Log: question-type-change
# Started: 2026-01-18
# Branch: yellow/question-type-change
# Workspace: ralph/workspaces/question-type-change_2026-01-18/

## Session Context

### Project Overview
- Testimonials: Testimonial collection and display tool
- Tech Stack: Vue 3 + TypeScript + Tailwind, Hono.js API, Hasura GraphQL, PostgreSQL
- Package Manager: pnpm

### Key Patterns
- FSD Architecture: Types exported from models/ folders only
- GraphQL: Use generated types from @/shared/graphql/generated/operations
- Hasura: db/hasura/migrations/default/, db/hasura/metadata/
- Codegen: pnpm codegen:web
- Typecheck: pnpm typecheck
- tm-graph MCP: Validate GraphQL schema before creating .gql files
- Confirmation modals: ALL delete operations require confirmation dialog

### Critical Files
- docs/adr/017-question-type-change-workflow/adr.md: Main ADR document
- docs/adr/017-question-type-change-workflow/implementation.md: Detailed implementation guide
- apps/web/src/shared/constants/testIds/studio.ts: Test IDs (already has ADR-017 IDs)
- apps/web/tests/e2e/features/form-studio/focused-tests/question-type-change.spec.ts: E2E test spec (TDD)
- apps/web/tests/e2e/features/form-studio/actions/questionTypeChange.actions.ts: Test action helpers

### Skills to Use
- /graphql-code: For creating .gql files and composables
- /e2e-test-ids: For adding data-testid attributes
- /e2e-tests-runner: For running Playwright tests

### Gotchas / Warnings
- ALL GraphQL operations MUST be validated with tm-graph MCP before implementation
- ALL delete operations MUST have confirmation modals (no silent deletes)
- form_questions uses CASCADE delete for question_options
- Question type change uses delete+recreate pattern (not in-place update)
- Test fixtures need API endpoint POST /api/test/responses (development only)

### Source Document
docs/adr/017-question-type-change-workflow/

---
## Iteration Log

### Iteration 0 - Setup (2026-01-18)
- [x] Workspace created
- [x] PRD generated with 17 stories
- [x] E2E tests already written (TDD - RED phase)
- [x] Test IDs already added to studio.ts
- [x] Action helpers already created
- Next: BE-001 (Create test responses API endpoint)
